%h1
  Reservations
  - if params[:zone_id]
    \-
    = Zone.find(params[:zone_id]).name


.row
  .col-md-9
  .col-md-3.mb-3
    = form_tag admin_search_path, local: true, method: :get do
      = text_field_tag 'search',"", placeholder: 'Search', class: 'form-control', id: 'search'
      = submit_tag 'Search', class: 'btn btn-primary'

%p.mb-4
  = link_to "All", admin_reservations_path
  - Zone.all.each do |zone|
    = '|'
    = link_to zone.name, admin_reservations_path(zone_id: zone.id)


%table.table.reservations
  %thead
    %tr
      %th Name
      %th Street
      %th Zone
      %th


  %tbody
    - @reservations.each do |reservation|
      %tr
        %td= link_to reservation.name, admin_reservation_path(reservation)
        %td= reservation.street
        %td
          - if reservation.zone_id?
            = link_to reservation&.zone&.name, admin_reservations_path(zone_id: reservation.zone_id)

        %td.actions
          = link_to admin_reservation_path(reservation) do
            %i.fa-solid.fa-eye.icon
          = link_to edit_admin_reservation_path(reservation) do
            %i.fa-solid.fa-pen.icon
          = link_to reservation, method: :delete, data: { "turbo-method": :delete, confirm: 'Are you sure?' } do
            %i.fa-solid.fa-trash.icon


%br
= pagy_bootstrap_nav(@pagy).html_safe
