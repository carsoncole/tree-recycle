.container#donations
  .row
    .col-lg-12
      %h1
        %i.fa-solid.fa-credit-card
        Donations

      %p.text-end
        %span.fw-bold Total donated:
        = number_to_currency(Donation.sum(:amount))


  .row
    .col-lg-8.offset-lg-2
      .table-responsive
        %table.table#donations-table
          %thead
            %tr
              %th
              %th.name Name
              %th Amount
              %th Status
              %th
          %tbody
            - @donations.each do |donation|
              %tr
                %td= link_to donation.id, [:admin, donation]
                %td.name= link_to donation&.reservation&.name, admin_reservation_path(donation.reservation) if donation.reservation
                %td= number_to_currency donation.amount
                %td= donation&.status&.capitalize
                %td= nice_short_date_time(donation.created_at)

      .pagination= pagy_bootstrap_nav(@pagy).html_safe
